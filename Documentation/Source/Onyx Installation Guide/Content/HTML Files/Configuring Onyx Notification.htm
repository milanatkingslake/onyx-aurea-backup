<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="6" MadCap:lastHeight="632" MadCap:lastWidth="624">
    <head><title>Configuring Onyx Notification Service</title>
        <link href="../Resources/Stylesheets/ApteanPDF.css" rel="stylesheet" />
    </head>
    <body>
        <h3>Configuring Onyx Notification Service</h3>
        <p>This section explains the procedures to configure ONS processes.</p>
        <p class="Important" MadCap:autonum="&lt;b&gt;Important:&lt;/b&gt; &#160;"> Before you can begin using the Notifications feature, you must install EMF in your environment.</p>
        <h4>Mapping the database to the EMF server</h4>
        <p>Before configuring EMF to work with Onyx, configure Onyx to be able to connect with the EMF server.</p>
        <ol>
            <li>In the Persistence database, open the <b>Notification Type</b> table.</li>
            <li>In the <b>brokerURL</b> column for each row in the table, type the EMF server name and port number.</li>
        </ol>
        <h4>Importing default processes</h4>
        <ol start="1">
            <li>In your Onyx installation package, navigate to <b>Platform Components &gt; EMF Server &gt; EMFProcess</b>.</li>
            <li>Copy the <b>OnyxNotification.xemf</b> file to your EMF server.</li>
            <li>Log on to the repository.</li>
        </ol>
        <p class="ListNote" MadCap:autonum="&lt;b&gt;Note:&lt;/b&gt; &#160;">To configure EMF, in the <b>Audit Log Configuration</b> dialog, clear the <b>Full logging of all changes</b> check box before the import of EMF processes.</p>
        <ol MadCap:continue="true">
            <li>Right-click the <b>Root</b> folder, and then click <b>Import</b>.</li>
            <li>Navigate to the folder where you copied the <b>OnyxNotification.xemf</b> file.</li>
            <li>Select the <b>OnyxNotification.xemf</b> file, and click <b>Import</b>.</li>
        </ol>
        <p class="Indent1">The <b>Import file contains…</b> appears with a check box against each entity that will be imported.</p>
        <p class="Image">
            <img src="../Resources/Images/ONYX 77 Installation Guide/The Import file contains appears.png" style="width: 455px;height: 492px;border-left-style: solid;border-left-width: 1px;border-left-color: #000000;border-right-style: solid;border-right-width: 1px;border-right-color: #000000;border-top-style: solid;border-top-width: 1px;border-top-color: #000000;border-bottom-style: solid;border-bottom-width: 1px;border-bottom-color: #000000;" />
        </p>
        <ol MadCap:continue="true">
            <li>Click the <b>Prompt for action</b> option to be prompted if a selected entity already exists so that you can review which entities get replaced.</li>
            <li>Click <b>OK</b> to start the import.</li>
        </ol>
        <p class="Indent1">When the import is complete, the default processes are created in EMF under <b>Root Folder &gt; Onyx</b>.</p>
        <p class="Image">
            <img src="../Resources/Images/ONYX 77 Installation Guide/When the import is complete.png" style="width: 558px;height: 422px;border-left-style: solid;border-left-width: 1px;border-left-color: #000000;border-right-style: solid;border-right-width: 1px;border-right-color: #000000;border-top-style: solid;border-top-width: 1px;border-top-color: #000000;border-bottom-style: solid;border-bottom-width: 1px;border-bottom-color: #000000;" />
        </p>
        <h4>Configuring Data Source</h4>
        <p>Map the JDBC data source to your database and OEAS server.</p>
        <ol>
            <li>Navigate to <b>Data Sources</b> and open the <b>JDBC Data Source</b> window.</li>
            <li>Type a <b>Connection Name</b> to identify the Onyx connection. Accept the default value in the <b>Driver/Data Source</b> field.</li>
            <li>Type the System Administrator user name and password to connect to the database and the Application server.</li>
            <li>Under Properties:</li>
        </ol>
        <ul>
            <li class="List_Indent">In the <b>serverName</b> field, type the name of your database server and SQL server instance.</li>
            <li class="List_Indent">In the <b>databaseName</b> field, type the name of your Persistence database.</li>
        </ul>
        <ol start="5">
            <li>Click <b>Apply</b>, and then close the window.</li>
        </ol>
        <h4>Configuring SMTP Services</h4>
        <p>Map the EMF SMTP Services to your Exchange server.</p>
        <ol>
            <li>Navigate to <b>Services &gt; SMTP Services &gt; OnyxExchangeServer</b>, and open the <b>SMTP Service</b> window.</li>
            <li>Type the Name for the SMTP configuration.</li>
            <li>In the <b>From</b> field, type a name that will be displayed in the Email Notification.</li>
            <li>In the <b>From address</b> field, type a valid email address that will be used to send email notifications.</li>
            <li>In the <b>Email Server</b> field, type the IP address of the email server.</li>
            <li>Type the Port number to use to communicate with the email server.</li>
            <li>Type the time in seconds after which EMF will stop trying to connect with the email server.</li>
            <li>Select the authentication type.</li>
            <li>Type the User name and password corresponding to the email address that will be used to send email notifications.</li>
            <li>Click <b>OK</b> to save changes, and then close the window.</li>
        </ol>
        <h4>Configuring Notifications</h4>
        <p>Before you can begin using the Notifications feature, you must configure Onyx to be able to connect with the email server that you intend to use.</p>
        <p class="ProcedureHeading">To configure notifications:</p>
        <ol>
            <li>In OES, type the system parameter for the OGS path. This is required to communicate with OGS and publish event data.</li>
        </ol>
        <ul>
            <li class="List_Indent">In OES System Parameter Administration, scroll to the parameter <b>GenericPublish</b>.</li>
            <li class="List_Indent">Type the parameter value in the format <i>http://[AppServerAddress]:[OGS Port Number]/ServiceGateway/Notification/GenericPublish/</i>, replacing <i>[AppServerAddress]</i> with the IP address or name of the app server, and [OGS Port Number] with the port number configured for OGS.</li>
        </ul>
        <ol start="2">
            <li>Save your changes.</li>
        </ol>
    </body>
</html>