<?xml version="1.0" encoding="utf-8"?>
<html MadCap:check_list="Ran Smart Index" MadCap:timeEstimate="0" MadCap:priority="0" MadCap:status="In Progress" MadCap:lastBlockDepth="4" MadCap:lastHeight="782" MadCap:lastWidth="624" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
        <link href="../../Resources/Stylesheets/ApteanOLH.css" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <head><title>Collections</title>
            <link href="../../Resources/Stylesheets/ApteanOLH.css" rel="stylesheet" type="text/css" />
        </head>
        <h4>
            <MadCap:keyword term="Collections" />Collections</h4>
        <p>OEAS supports collections of objects because it is natural for some 
 objects to have multiple instances of another object as a property. For 
 example, an individual can have more than one phone object. In OEAS, the 
 individual object has a phones property that contains one or more phone 
 objects. The phones property, however, does not correspond to any object 
 in the Onyx Enterprise Dictionary (OED). Instead, OEAS defines the phones 
 property as a collection of phone objects.</p>
        <p>Collections are properties of a business object that 
 are defined with the following characteristics in the OED:</p>
        <ul>
            <li>property data type is object</li>
            <li>object type defined for the class of object contained 
 in the collection</li>
            <li>collections attribute set to true (in the Object 
 Designer, this attribute is checked)</li>
        </ul>
        <p>Collections can also be parameters. &#160;Every 
 retrieveCollection and saveCollection method has a collection as a parameter.</p>
        <h5>Example</h5>
        <p>The following shows how a collection property is defined in an XML parameters 
 string. Notice that the phones element contains the collection attribute, 
 and that it is set to "1" (true). The collection attribute identifies 
 the phones node as a collection.</p>
        <p>
            Parameters XML
        </p>
        <p Class="Code" class="code">&lt;parameters&gt;</p>
        <p Class="Code" class="code">&lt;phones objectType="phone" collection="1" content="all"&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&lt;phone objectType="phone" action="update" content="all"&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&#160;&#160;&#160;&lt;primaryId&gt;D4E4390F-3D83-4701-987E-036912DA59CB&lt;/primaryId&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&#160;&#160;&#160;&lt;primary&gt;1&lt;/primary&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&#160;&#160;&#160;&lt;ownerId&gt;2D6D5141-2695-42AC-9771-528BFC40FCAC&lt;/ownerId&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&#160;&#160;&#160;&lt;ownerType&gt;1&lt;/ownerType&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&#160;&#160;&#160;&lt;phoneTypeId&gt;102&lt;/phoneTypeId&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&#160;&#160;&#160;&lt;phoneNumber&gt;5555299425&lt;/phoneNumber&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&#160;&#160;&#160;&lt;readOnlyAccess&gt;0&lt;/readOnlyAccess&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&#160;&#160;&#160;&lt;privateAccess&gt;0&lt;/privateAccess&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&#160;&#160;&#160;&lt;insertBy&gt;sa&lt;/insertBy&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&#160;&#160;&#160;&lt;insertDate&gt;2006-02-02 22:46:53&lt;/insertDate&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&#160;&#160;&#160;&lt;updateBy&gt;sa&lt;/updateBy&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&#160;&#160;&#160;&lt;updateDate&gt;2006-02-02 22:46:53&lt;/updateDate&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&#160;&#160;&#160;&lt;locked null="1"/&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&#160;&#160;&#160;&lt;onyxTimestamp&gt;0000000000004A75&lt;/onyxTimestamp&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&lt;/phone&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&lt;phone objectType="phone" action="update" content="all"&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&#160;&#160;&#160;&lt;primaryId&gt;ED27AC52-E71C-46D4-90B3-9F7A02B623C7&lt;/primaryId&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&#160;&#160;&#160;&lt;primary&gt;0&lt;/primary&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&#160;&#160;&#160;&lt;ownerId&gt;2D6D5141-2695-42AC-9771-528BFC40FCAC&lt;/ownerId&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&#160;&#160;&#160;&lt;ownerType&gt;1&lt;/ownerType&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&#160;&#160;&#160;&lt;phoneTypeId&gt;103&lt;/phoneTypeId&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&#160;&#160;&#160;&lt;phoneNumber&gt;5552351495&lt;/phoneNumber&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&#160;&#160;&#160;&lt;readOnlyAccess&gt;0&lt;/readOnlyAccess&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&#160;&#160;&#160;&lt;privateAccess&gt;0&lt;/privateAccess&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&#160;&#160;&#160;&lt;insertBy&gt;sa&lt;/insertBy&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&#160;&#160;&#160;&lt;insertDate&gt;2006-02-02 22:46:53&lt;/insertDate&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&#160;&#160;&#160;&lt;updateBy&gt;sa&lt;/updateBy&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&#160;&#160;&#160;&lt;updateDate&gt;2006-02-02 22:46:53&lt;/updateDate&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&#160;&#160;&#160;&lt;locked null="1"/&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&#160;&#160;&#160;&lt;onyxTimestamp&gt;0000000000004A76&lt;/onyxTimestamp&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&lt;/phone&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&lt;phone objectType="phone" action="update" content="all"&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&#160;&#160;&#160;&lt;primaryId&gt;8C74B45B-B85C-4676-A455-B809F1BCBBFE&lt;/primaryId&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&#160;&#160;&#160;&lt;primary&gt;0&lt;/primary&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&#160;&#160;&#160;&lt;ownerId&gt;2D6D5141-2695-42AC-9771-528BFC40FCAC&lt;/ownerId&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&#160;&#160;&#160;&lt;ownerType&gt;1&lt;/ownerType&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&#160;&#160;&#160;&lt;phoneTypeId&gt;115&lt;/phoneTypeId&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&#160;&#160;&#160;&lt;phoneNumber&gt;5555829154&lt;/phoneNumber&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&#160;&#160;&#160;&lt;readOnlyAccess&gt;0&lt;/readOnlyAccess&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&#160;&#160;&#160;&lt;privateAccess&gt;0&lt;/privateAccess&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&#160;&#160;&#160;&lt;insertBy&gt;sa&lt;/insertBy&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&#160;&#160;&#160;&lt;insertDate&gt;2006-02-02 22:46:53&lt;/insertDate&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&#160;&#160;&#160;&lt;updateBy&gt;sa&lt;/updateBy&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&#160;&#160;&#160;&lt;updateDate&gt;2006-02-02 22:46:53&lt;/updateDate&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&#160;&#160;&#160;&lt;locked null="1"/&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&#160;&#160;&#160;&lt;onyxTimestamp&gt;0000000000004A77&lt;/onyxTimestamp&gt;</p>
        <p Class="Code" class="code">&#160;&#160;&#160;&lt;/phone&gt;</p>
        <p Class="Code" class="code">&lt;/phones&gt; &#160;&#160;&#160;&#160;&#160;&lt;/phones&gt;&lt;/parameters&gt;</p>
        <p>Objects that support collections may implement saveCollection and/or 
 retrieveCollection methods. In order to use the saveCollection method, 
 you must attach an action attribute to each item in the collection included 
 in the parameters XML. Items in a single collection can have different 
 actions (such as insert, update, and delete). For instance, you may want 
 to update one item in a collection while deleting another item in the 
 same collection.</p>
        <p>OEAS also supports a collectionId attribute on items in a collection. 
 The collectionId attribute is optional. OEAS does not modify the value, 
 but copies it to the appropriate node on the parametersReturn. This allows 
 you to associate specific returnXML to individual items in a collection.</p>
        <h5>Coupled Child Objects</h5>
        <p>A collection contains objects. &#160;A 
 collection nested within another object is either tightly-coupled or loosely-coupled.</p>
        <p>Loosely-coupled child objects, such as the phone object, can exist without 
 a parent object. Tightly-coupled child objects, on the other hand require 
 a parent object. Tightly-coupled objects include:</p>
        <ul>
            <li>customerProductDetail</li>
            <li>forecastLine</li>
            <li>literatureOrderLine</li>
            <li>quoteLine</li>
        </ul>
        <p>You can call the methods of loosely-coupled objects directly, but tightly-coupled 
 objects must be created and maintained by calling the methods on the parent 
 object.</p>
    </body>
</html>