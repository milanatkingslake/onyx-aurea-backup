<!-- Copyright Aptean 2017. All rights reserved. -->
<rules xmlns="http://www.consonacrm.com/brm"
	   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	   xsi:schemaLocation="http://www.consonacrm.com/brm ../../../grammar/onyx/businessRuleManager.grammar.onyx.xsd"
	   description="Implement between Operator">
	<if>
		<test description ="Check for integer dataType">
			<exists>
				<literal>valueDataType[.='integer']</literal>
			</exists>
		</test>
		<then>
			<setNodeValue>
				<path>
					<literal>./expressionIsTrue</literal>
				</path>
				<value>
					<and>
						<integerGreaterThanEqualTo>
							<left>
								<toInteger>
									<getNodeValue>
										<literal>valueToCompare</literal>
									</getNodeValue>
								</toInteger>
							</left>
							<right>
								<toInteger>
									<getNodeValue>
										<literal>c3</literal>
									</getNodeValue>
								</toInteger>
							</right>
						</integerGreaterThanEqualTo>
						<integerLessThanEqualTo>
							<left>
								<toInteger>
									<getNodeValue>
										<literal>valueToCompare</literal>
									</getNodeValue>
								</toInteger>
							</left>
							<right>
								<toInteger>
									<getNodeValue>
										<literal>c4</literal>
									</getNodeValue>
								</toInteger>
							</right>
						</integerLessThanEqualTo>
					</and>
				</value>
			</setNodeValue>
		</then>
		<else>
			<if>
				<test description ="Check for string dataType">
					<exists>
						<literal>valueDataType[.='string']</literal>
					</exists>
				</test>
				<then>
					<setNodeValue>
						<path>
							<literal>./expressionIsTrue</literal>
						</path>
						<value>
							<and>
								<stringGreaterThanEqualTo>
									<left>
										<getNodeValue>
											<literal>valueToCompare</literal>
										</getNodeValue>
									</left>
									<right>
										<getNodeValue>
											<literal>c3</literal>
										</getNodeValue>
									</right>
								</stringGreaterThanEqualTo>
								<stringLessThanEqualTo>
									<left>
										<getNodeValue>
											<literal>valueToCompare</literal>
										</getNodeValue>
									</left>
									<right>
										<getNodeValue>
											<literal>c4</literal>
										</getNodeValue>
									</right>
								</stringLessThanEqualTo>
							</and>
						</value>
					</setNodeValue>
				</then>
			</if>
		</else>
	</if>
</rules>